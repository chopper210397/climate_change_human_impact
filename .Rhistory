formateddata %>% filter(Country.Name %in% c("India","China"))%>%
ggplot(aes(x=fecha,y=`Electric power consumption (kWh per capita)`/1000000,color=Country.Name))+geom_line()+
labs(x="",y="KWh en millones",color="País",title = "Consumo eléctrico en resto del mundo")
formateddata %>% filter(Country.Name %in% c("Canada","Mexico"))%>%
ggplot(aes(x=fecha,y=`Electric power consumption (kWh per capita)`/1000000,color=Country.Name))+geom_line()+
labs(x="",y="KWh en millones",color="País",title = "Consumo eléctrico en Norteamérica")
# PLOTS ELECTRI POWER
formateddata %>% filter(Country.Name %in% c("Peru","Chile"))%>%
ggplot(aes(x=fecha,y=`Electric power consumption (kWh per capita)`/1000000,color=Country.Name))+geom_line()+
labs(x="",y="KWh en millones",color="País",title = "Consumo eléctrico en Sudamérica")
# PLOTS ELECTRI POWER
formateddata %>% filter(Country.Name %in% c("Peru","Chile"))%>%
ggplot(aes(x=fecha,y=`Electric power consumption (kWh per capita)`/1000,color=Country.Name))+geom_line()+
labs(x="",y="KWh en millones",color="País",title = "Consumo eléctrico en Sudamérica")
# PLOTS ELECTRI POWER
formateddata %>% filter(Country.Name %in% c("Peru","Chile"))%>%
ggplot(aes(x=fecha,y=`Electric power consumption (kWh per capita)`/1000,color=Country.Name))+geom_line()+
labs(x="",y="KWh en miles",color="País",title = "Consumo eléctrico en Sudamérica")
formateddata %>% filter(Country.Name %in% c("Canada","Mexico"))%>%
ggplot(aes(x=fecha,y=`Electric power consumption (kWh per capita)`/1000,color=Country.Name))+geom_line()+
labs(x="",y="KWh en miles",color="País",title = "Consumo eléctrico en Norteamérica")
formateddata %>% filter(Country.Name %in% c("India","China"))%>%
ggplot(aes(x=fecha,y=`Electric power consumption (kWh per capita)`/1000,color=Country.Name))+geom_line()+
labs(x="",y="KWh en miles",color="País",title = "Consumo eléctrico en resto del mundo")
formateddata %>% filter(Country.Name %in% c("Canada","Mexico"))%>%
ggplot(aes(x=fecha,y=`Electric power consumption (kWh per capita)`/1000,color=Country.Name))+geom_line()+
labs(x="",y="KWh en miles",color="País",title = "Consumo eléctrico en Norteamérica")
formateddata %>% filter(Country.Name %in% c("India","China"))%>%
ggplot(aes(x=fecha,y=`Electric power consumption (kWh per capita)`/1000,color=Country.Name))+geom_line()+
labs(x="",y="KWh en miles",color="País",title = "Consumo eléctrico en resto del mundo")
# PLOTS ELECTRI POWER
formateddata %>% filter(Country.Name %in% c("Peru","Chile"))%>%
ggplot(aes(x=fecha,y=`Electric power consumption (kWh per capita)`/1000,color=Country.Name))+geom_line()+
labs(x="",y="KWh en miles",color="País",title = "Consumo eléctrico en Sudamérica")
formateddata %>% filter(Country.Name %in% c("Canada","Mexico"))%>%
ggplot(aes(x=fecha,y=`Electric power consumption (kWh per capita)`/1000,color=Country.Name))+geom_line()+
labs(x="",y="KWh en miles",color="País",title = "Consumo eléctrico en Norteamérica")
# PLOTS ELECTRI POWER
formateddata %>% filter(Country.Name %in% c("Peru","Chile"))%>%
ggplot(aes(x=fecha,y=`Electric power consumption (kWh per capita)`/1000,color=Country.Name))+geom_line()+
labs(x="",y="KWh en miles",color="País",title = "Consumo eléctrico per cápita en Sudamérica")
formateddata %>% filter(Country.Name %in% c("Canada","Mexico"))%>%
ggplot(aes(x=fecha,y=`Electric power consumption (kWh per capita)`/1000,color=Country.Name))+geom_line()+
labs(x="",y="KWh en miles",color="País",title = "Consumo eléctrico per cápita en Norteamérica")
formateddata %>% filter(Country.Name %in% c("India","China"))%>%
ggplot(aes(x=fecha,y=`Electric power consumption (kWh per capita)`/1000,color=Country.Name))+geom_line()+
labs(x="",y="KWh en miles",color="País",title = "Consumo eléctrico per cápita en resto del mundo")
#----------------- GGPLOT -----------------#
# PLOTS TOTAL POPULATION
formateddata %>% filter(Country.Name %in% c("Peru","Chile"))%>%
ggplot(aes(x=fecha,y=`Population, total`/1000000,color=Country.Name))+geom_line()+
labs(x="",y="Población en millones",color="País",title = "Crecimiento poblacional en Sudamérica")
#----------------- GGPLOT -----------------#
# PLOTS TOTAL POPULATION
formateddata %>% filter(Country.Name %in% c("Peru","Chile"))%>%
ggplot(aes(x=fecha,y=`Population, total`/1000000,color=Country.Name))+geom_line()+
labs(x="",y="Población en millones",color="País",title = "Crecimiento poblacional en Sudamérica")´geom_point()
#----------------- GGPLOT -----------------#
# PLOTS TOTAL POPULATION
formateddata %>% filter(Country.Name %in% c("Peru","Chile"))%>%
ggplot(aes(x=fecha,y=`Population, total`/1000000,color=Country.Name))+geom_line()+
labs(x="",y="Población en millones",color="País",title = "Crecimiento poblacional en Sudamérica")+geom_point()
#----------------- GGPLOT -----------------#
# PLOTS TOTAL POPULATION
formateddata %>% filter(Country.Name %in% c("Peru","Chile"))%>%
ggplot(aes(x=fecha,y=`Population, total`/1000000,color=Country.Name))+geom_line()+
labs(x="",y="Población en millones",color="País",title = "Crecimiento poblacional en Sudamérica")
ggsave("poblacionsudamerica.jpg",dpi = 400)
#----------------- GGPLOT -----------------#
# PLOTS TOTAL POPULATION
formateddata %>% filter(Country.Name %in% c("Peru","Chile"))%>%
ggplot(aes(x=fecha,y=`Population, total`/1000000,color=Country.Name))+geom_line()+
labs(x="",y="Población en millones",color="País",title = "Crecimiento poblacional en Sudamérica")+theme_linedraw()
#----------------- GGPLOT -----------------#
# PLOTS TOTAL POPULATION
formateddata %>% filter(Country.Name %in% c("Peru","Chile"))%>%
ggplot(aes(x=fecha,y=`Population, total`/1000000,color=Country.Name))+geom_line()+
labs(x="",y="Población en millones",color="País",title = "Crecimiento poblacional en Sudamérica")+theme_minimal()
#----------------- GGPLOT -----------------#
# PLOTS TOTAL POPULATION
formateddata %>% filter(Country.Name %in% c("Peru","Chile"))%>%
ggplot(aes(x=fecha,y=`Population, total`/1000000,color=Country.Name))+geom_line()+
labs(x="",y="Población en millones",color="País",title = "Crecimiento poblacional en Sudamérica")+theme_light()
#----------------- GGPLOT -----------------#
# PLOTS TOTAL POPULATION
formateddata %>% filter(Country.Name %in% c("Peru","Chile"))%>%
ggplot(aes(x=fecha,y=`Population, total`/1000000,color=Country.Name))+geom_line()+
labs(x="",y="Población en millones",color="País",title = "Crecimiento poblacional en Sudamérica")+theme_light()
#----------------- GGPLOT -----------------#
# PLOTS TOTAL POPULATION
formateddata %>% filter(Country.Name %in% c("Peru","Chile"))%>%
ggplot(aes(x=fecha,y=`Population, total`/1000000,color=Country.Name))+geom_line()+
labs(x="",y="Población en millones",color="País",title = "Crecimiento poblacional en Sudamérica")+theme_minimal()
ggsave("poblacionsudamerica.jpg",dpi = 400)
# PLOTS ELECTRI POWER
formateddata %>% filter(Country.Name %in% c("Peru","Chile"))%>%
ggplot(aes(x=fecha,y=`Electric power consumption (kWh per capita)`/1000,color=Country.Name))+geom_line()+
labs(x="",y="KWh en miles",color="País",title = "Consumo eléctrico per cápita en Sudamérica")+theme_minimal()
formateddata %>% filter(Country.Name %in% c("Canada","Mexico"))%>%
ggplot(aes(x=fecha,y=`Population, total`/1000000,color=Country.Name))+geom_line()+
labs(x="",y="Población en millones",color="País",title = "Crecimiento poblacional en Norteamerica")+theme_minimal()
ggsave("poblacionnorteamerica.jpg",dpi = 400)
formateddata %>% filter(Country.Name %in% c("India","China"))%>%
ggplot(aes(x=fecha,y=`Population, total`/1000000,color=Country.Name))+geom_line()+
labs(x="",y="Población en millones",color="País",title = "Crecimiento poblacional en resto del mundo")+theme_minimal()
ggsave("poblacionrestomundo.jpg",dpi = 400)
co2<-read.csv("co2emissions.csv",sep=",",skip = 4)
str(co2)
unique(co2$Country.Code)
unique(co2$Country.Name)
#------------------------------------  DATA FORMAT -----------------------------------#
formateddata<-co2 %>% select(!c("Country.Code","Indicator.Code"))%>%
pivot_longer(!c( Country.Name,Indicator.Name),names_to = c("fecha"),values_to = "valor",names_pattern = )
formateddata<-formateddata %>% pivot_wider(names_from = Indicator.Name,values_from = valor)
# looking the data values
unique(formateddata$Country.Name)
# formatting dates
formateddata$fecha<-substr(formateddata$fecha,2,5)
formateddata$fecha<-ymd(formateddata$fecha, truncated = 2L)
#----------------- GGPLOT -----------------#
# PLOTS TOTAL POPULATION
formateddata %>% filter(Country.Name %in% c("Peru","Chile"))%>%
ggplot(aes(x=fecha,y=`Population, total`/1000000,color=Country.Name))+geom_line()+
labs(x="",y="Población en millones",color="País",title = "Crecimiento poblacional en Sudamérica")+theme_minimal()
formateddata %>% filter(Country.Name %in% c("Canada","Mexico"))%>%
ggplot(aes(x=fecha,y=`Population, total`/1000000,color=Country.Name))+geom_line()+
labs(x="",y="Población en millones",color="País",title = "Crecimiento poblacional en Norteamerica")+theme_minimal()
# Crecimiento poblacional
```{r population, echo=FALSE, message=FALSE, warning=FALSE ,fig.ncol = 2, out.width = "50%", fig.align = "center", fig.cap='Figure 1', fig.subcap=c('(a)', '(b)', '(c)')}
# correlation between variables
formateddata %>% filter(Country.Name %in% c("India","China"))%>%
ggplot(aes(x=fecha,y=`Electric power consumption (kWh per capita)`,color=Country.Name))+geom_point()+
labs(x="",y="KWh en miles",color="País",title = "Consumo eléctrico per cápita en resto del mundo")+theme_minimal()
# correlation between variables
formateddata %>% filter(Country.Name %in% c("India"))%>%
ggplot(aes(x=fecha,y=`Electric power consumption (kWh per capita)`,color=Country.Name))+geom_point()+
labs(x="",y="KWh en miles",color="País",title = "Consumo eléctrico per cápita en resto del mundo")+theme_minimal()
# correlation between variables
formateddata %>% filter(Country.Name %in% c("India"))%>%
ggplot(aes(x=`Electric power consumption (kWh per capita)`,y=`CO2 emissions (kt)`,color=Country.Name))+geom_point()+
labs(x="",y="KWh en miles",color="País",title = "Consumo eléctrico per cápita en resto del mundo")+theme_minimal()
# correlation between variables
formateddata %>% filter(Country.Name %in% c("India"))%>%
ggplot(aes(x=`Electric power consumption (kWh per capita)`,y=`CO2 emissions (kt)`,color=Country.Name))+geom_point()+theme_minimal()
# correlation between variables
formateddata %>% filter(Country.Name %in% c("India","China"))%>%
ggplot(aes(x=`Electric power consumption (kWh per capita)`,y=`CO2 emissions (kt)`,color=Country.Name))+
geom_point()+theme_minimal()
# correlation between variables
formateddata %>% filter(Country.Name %in% c("India","China","Canada"))%>%
ggplot(aes(x=`Electric power consumption (kWh per capita)`,y=`CO2 emissions (kt)`,color=Country.Name))+
geom_point()+theme_minimal()
# correlation between variables
formateddata %>% filter(Country.Name %in% c("India","China","Canada","Mexico"))%>%
ggplot(aes(x=`Electric power consumption (kWh per capita)`,y=`CO2 emissions (kt)`,color=Country.Name))+
geom_point()+theme_minimal()
# correlation between variables
formateddata %>% filter(Country.Name %in% c("India","China","Canada","Mexico","Peru","Chile"))%>%
ggplot(aes(x=`Electric power consumption (kWh per capita)`,y=`CO2 emissions (kt)`,color=Country.Name))+
geom_point()+theme_minimal()
# correlation between variables
formateddata %>% filter(Country.Name %in% c("India","China","Canada","Mexico","Peru","Chile"))%>%
ggplot(aes(x=`Electric power consumption (kWh per capita)`,y=`CO2 emissions (kt)`))+
geom_point()+theme_minimal()
# correlation between variables
formateddata %>% filter(Country.Name %in% c("India","China","Canada","Mexico","Peru","Chile"))%>%
ggplot(aes(x=`Electric power consumption (kWh per capita)`,y=`CO2 emissions (kt)`,color=Country.Name))+
geom_point()+theme_minimal()
# correlation between variables
formateddata %>% filter(Country.Name %in% c("Canada","Mexico"))%>%
ggplot(aes(x=`Electric power consumption (kWh per capita)`,y=`CO2 emissions (kt)`,color=Country.Name))+
geom_point()+theme_minimal()
# correlation between variables
formateddata %>% filter(Country.Name %in% c("Canada","Mexico"))%>%
ggplot(aes(x=`Electric power consumption (kWh per capita)`,y=`CO2 emissions (kt)`/1000,color=Country.Name))+
geom_point()+theme_minimal()
# correlation between variables
formateddata %>% filter(Country.Name %in% c("Canada","Mexico","Peru","Chile"))%>%
ggplot(aes(x=`Electric power consumption (kWh per capita)`,y=`CO2 emissions (kt)`/1000,color=Country.Name))+
geom_point()+theme_minimal()
# correlation between variables
formateddata %>% filter(Country.Name %in% c("Canada","Mexico","Peru","Chile"))%>%
ggplot(aes(x=`Electric power consumption (kWh per capita)`,y=log(`CO2 emissions (kt)`/1000),color=Country.Name))+
geom_point()+theme_minimal()
# correlation between variables
formateddata %>% filter(Country.Name %in% c("Canada","Mexico","Peru","Chile"))%>%
ggplot(aes(x=`Electric power consumption (kWh per capita)`,y=log(`CO2 emissions (kt)`),color=Country.Name))+
geom_point()+theme_minimal()
# correlation between variables
formateddata %>% filter(Country.Name %in% c("Canada","Mexico","Peru","Chile"))%>%
ggplot(aes(x=`Electric power consumption (kWh per capita)`,y=log(`CO2 emissions (kt)`/1000),color=Country.Name))+
geom_point()+theme_minimal()
# correlation between variables
formateddata %>% filter(Country.Name %in% c("Canada","Mexico","Peru","Chile","China","India"))%>%
ggplot(aes(x=`Electric power consumption (kWh per capita)`,y=log(`CO2 emissions (kt)`/1000),color=Country.Name))+
geom_point()+theme_minimal()
# correlation between variables
formateddata %>% filter(Country.Name %in% c("Canada","Mexico","Peru","Chile","China","India"))%>%
ggplot(aes(x=`Electric power consumption (kWh per capita)`,y=log(`CO2 emissions (kt)`),color=Country.Name))+
geom_point()+theme_minimal()
# correlation between variables
formateddata %>% filter(Country.Name %in% c("Canada","Mexico","Peru","Chile","China","India"))%>%
ggplot(aes(x=log(`Electric power consumption (kWh per capita)`),y=log(`CO2 emissions (kt)`),color=Country.Name))+
geom_point()+theme_minimal()
line(formateddata$`Electric power consumption (kWh per capita)`.y=formateddata$`CO2 emissions (kt)`)
line(formateddata$`Electric power consumption (kWh per capita)`,y=formateddata$`CO2 emissions (kt)`)
# log(electricconsumption vs co2 emission)
formateddata %>% filter(Country.Name %in% c("Canada","Mexico","Peru","Chile","China","India"))%>%
ggplot(aes(x=log(`Population, total`),y=log(`CO2 emissions (kt)`),color=Country.Name))+
geom_point()+theme_minimal()
unique(co2$Indicator.Name)
# log(total population vs co2 emission)
formateddata %>% filter(Country.Name %in% c("Canada","Mexico","Peru","Chile","China","India"))%>%
ggplot(aes(x=log(`CO2 emissions from liquid fuel consumption (kt)`),y=log(`CO2 emissions (kt)`),color=Country.Name))+
geom_point()+theme_minimal()
cor(formateddata)
cor(formateddata$`Urban population`)
cor(formateddata$`Urban population`,y=formateddata$`CO2 emissions (kt)`)
cor(formateddata$`Urban population`,y=formateddata$`CO2 emissions (kt)`)
cor.test(formateddata)
cor.test(formateddata$`Population, total`)
cor.test(formateddata$`Population, total`,y=formateddata$`CO2 emissions (kt)`)
# log(total population vs co2 emission)
formateddata %>% filter(Country.Name %in% c("Canada","Mexico","Peru","Chile","China","India"))%>%
ggplot(aes(x=log(`CO2 emissions from liquid fuel consumption (kt)`),y=log(`CO2 emissions (kt)`),color=Country.Name))+
geom_point()+theme_minimal()
# correlation between variables
# log(electricconsumption vs co2 emission)
formateddata %>% filter(Country.Name %in% c("Canada","Mexico","Peru","Chile","China","India"))%>%
ggplot(aes(x=log(`Electric power consumption (kWh per capita)`),y=log(`CO2 emissions (kt)`),color=Country.Name))+
geom_point()+theme_minimal()+labs(x="CO2 de consumo liquido de combustibles (kt)",y="CO2 total (kt)")
# log(total population vs co2 emission)
formateddata %>% filter(Country.Name %in% c("Canada","Mexico","Peru","Chile","China","India"))%>%
ggplot(aes(x=log(`Population, total`),y=log(`CO2 emissions (kt)`),color=Country.Name))+
geom_point()+theme_minimal()
# log(total population vs co2 emission)
formateddata %>% filter(Country.Name %in% c("Canada","Mexico","Peru","Chile","China","India"))%>%
ggplot(aes(x=log(`CO2 emissions from liquid fuel consumption (kt)`),y=log(`CO2 emissions (kt)`),color=Country.Name))+
geom_point()+theme_minimal()+labs()
# correlation between variables
# log(electricconsumption vs co2 emission)
formateddata %>% filter(Country.Name %in% c("Canada","Mexico","Peru","Chile","China","India"))%>%
ggplot(aes(x=log(`Electric power consumption (kWh per capita)`),y=log(`CO2 emissions (kt)`),color=Country.Name))+
geom_point()+theme_minimal()+labs(x="Consumo eléctrico (KWh per cápita)",y="CO2 total (kt)")
# log(total population vs co2 emission)
formateddata %>% filter(Country.Name %in% c("Canada","Mexico","Peru","Chile","China","India"))%>%
ggplot(aes(x=log(`Population, total`),y=log(`CO2 emissions (kt)`),color=Country.Name))+
geom_point()+theme_minimal()+labs(x="Población total",y="CO2 total (kt)")
# log(total population vs co2 emission)
formateddata %>% filter(Country.Name %in% c("Canada","Mexico","Peru","Chile","China","India"))%>%
ggplot(aes(x=log(`CO2 emissions from liquid fuel consumption (kt)`),y=log(`CO2 emissions (kt)`),color=Country.Name))+
geom_point()+theme_minimal()+labs(x="CO2 de consumo liquido de combustibles (kt)",y="CO2 total (kt)")
library(dplyr)
library(tidyr)
library(readr)
library(readxl)
library(ggplot2)
read_xls("co2transport")
read_xls("co2transport.xls")
co2<-read_xls("co2transport.xls")
formateddata<-co2 %>% select(!c("Country.Code","Indicator.Code"))%>%
pivot_longer(!c( Country.Name,Indicator.Name),names_to = c("fecha"),values_to = "valor",names_pattern = )
formateddata<-co2 %>% select(!c("Country Code","Indicator.Code"))%>%
pivot_longer(!c( Country.Name,Indicator.Name),names_to = c("fecha"),values_to = "valor",names_pattern = )
formateddata<-co2 %>% select(!c("Country Code","Indicator Code"))%>%
pivot_longer(!c( Country.Name,Indicator.Name),names_to = c("fecha"),values_to = "valor",names_pattern = )
formateddata<-co2 %>% select(!c("Country Code","Indicator Code"))%>%
pivot_longer(!c( Country Name,Indicator.Name),names_to = c("fecha"),values_to = "valor",names_pattern = )
library(tidyr)
formateddata<-co2 %>% select(!c("Country Code","Indicator Code"))%>%
pivot_longer(!c( Country Name,Indicator.Name),names_to = c("fecha"),values_to = "valor",names_pattern = )
formateddata<-co2 %>% select(!c("Country Code","Indicator Code"))%>%
pivot_longer(!c( Country Name,Indicator.Name),names_to = c("fecha"),values_to = "valor")
formateddata<-co2 %>% select(!c("Country Code","Indicator Code"))%>%
pivot_longer(!c( Country Name,Indicator.Name),names_to = c("fecha"),values_to = "valor"))
formateddata<-co2 %>% select(!c("Country Code","Indicator Code"))%>%
pivot_longer(!c( Country Name,Indicator.Name),names_to = c("fecha"),values_to = "valor")
formateddata<-co2 %>% select(!c("Country Code","Indicator Code"))%>%
pivot_longer(!c( Country Name,Indicator Name),names_to = c("fecha"),values_to = "valor")
str(co2)
formateddata<-co2 %>% select(!c("Country Code","Indicator Code"))%>%
pivot_longer(!c( Country Name,´Indicator Name´),names_to = c("fecha"),values_to = "valor")
formateddata<-co2 %>% select(!c("Country Code","Indicator Code")) %>%
pivot_longer(!c( Country Name,´Indicator Name´),names_to = c("fecha"),values_to = "valor")
formateddata<-co2 %>% select(!c("Country Code","Indicator Code")) %>%
pivot_longer(!c( `Country Name`,`Indicator Name`),names_to = c("fecha"),values_to = "valor")
formateddata<-formateddata %>% pivot_wider(names_from = `Indicator Name`,values_from = valor)
View(co2)
formateddata<-formateddata %>% pivot_wider(names_from = `Indicator Name`,values_from = valor)
formateddata<-formateddata %>% pivot_wider(names_from = `Indicator Name`,values_from = valor)
View(co2)
View(formateddata)
# formateddata<-formateddata %>% pivot_wider(names_from = `Indicator Name`,values_from = valor)
# looking the data values
unique(formateddata$`Country Name`)
unique(formateddata$fecha)
colnames(formateddata)
colnames(formateddata)<-c("país","fecha","co2")
# formatting dates
formateddata$fecha<-substr(formateddata$fecha,2,5)
formateddata$fecha<-ymd(formateddata$fecha, truncated = 2L)
library(lubridate)
formateddata$fecha<-ymd(formateddata$fecha, truncated = 2L)
# formatting dates
formateddata$fecha<-substr(formateddata$fecha,2,5)
formateddata$fecha<-ymd(formateddata$fecha, truncated = 2L)
View(formateddata)
unique(formateddata$fecha)
co2<-read_xls("co2transport.xls")
co2 %>% select(`Indicator Name`)
formateddata<-co2 %>% select(!c("Country Code","Indicator Code")) %>%
pivot_longer(!c( `Country Name`,`Indicator Name`),names_to = c("fecha"),values_to = "valor")
# formateddata<-formateddata %>% pivot_wider(names_from = `Indicator Name`,values_from = valor)
# looking the data values
unique(formateddata$`Country Name`)
unique(formateddata$fecha)
colnames(formateddata)<-c("país","fecha","co2")
# formatting dates
formateddata$fecha<-substr(formateddata$fecha,2,5)
unique(formateddata$fecha)
co2<-read_xls("co2transport.xls")
co2 %>% select(`Indicator Name`)
formateddata<-co2 %>% select(!c("Country Code","Indicator Code")) %>%
pivot_longer(!c( `Country Name`,`Indicator Name`),names_to = c("fecha"),values_to = "valor")
# formateddata<-formateddata %>% pivot_wider(names_from = `Indicator Name`,values_from = valor)
# looking the data values
unique(formateddata$`Country Name`)
unique(formateddata$fecha)
colnames(formateddata)<-c("país","fecha","co2")
library(dplyr)
library(tidyr)
library(readr)
library(readxl)
library(ggplot2)
library(lubridate)
rlang::last_error()
View(formateddata)
co2<-read_xls("co2transport.xls")
formateddata<-co2 %>% select(!c("Country Code","Indicator Code")) %>%
pivot_longer(!c( `Country Name`,`Indicator Name`),names_to = c("fecha"),values_to = "valor")
View(formateddata)
# formateddata<-formateddata %>% pivot_wider(names_from = `Indicator Name`,values_from = valor)
# looking the data values
unique(formateddata$`Country Name`)
unique(formateddata$fecha)
View(formateddata)
unique(formateddata$`Indicator Name`)
formateddata %>% ggplot(aes(x=fecha,y=valor))+geom_line()
formateddata %>% ggplot(aes(x=fecha,y=valor,color=`Country Name`))+geom_line()
formateddata %>% ggplot(aes(x=fecha,y=valor,color=`Country Name`))+geom_line()
ymd(formateddata$fecha, truncated = 2L)
# formatting dates
formateddata$fecha<-ymd(formateddata$fecha, truncated = 2L)
formateddata %>% ggplot(aes(x=fecha,y=valor,color=`Country Name`))+geom_line()
formateddata %>% ggplot(aes(x=fecha,y=valor))+geom_line()
formateddata %>% filter(`Country Name`=="Peru")%>%  ggplot(aes(x=fecha,y=valor))+geom_line()
View(formateddata)
formateddata %>% filter(`Country Name`=="Argentina")%>%  ggplot(aes(x=fecha,y=valor))+geom_line()
formateddata %>% filter(`Country Name`=="Perú")%>%  ggplot(aes(x=fecha,y=valor))+geom_line()
formateddata %>% filter(`Country Name`=="Perú")%>%  ggplot(aes(x=fecha,y=valor))+geom_line()+
labs(x="",y="% del total de la quema de combustible",title="% Emisiones de CO2 del total de la quema de combustible en el Perú de 1970 a 2015")
formateddata %>% filter(`Country Name`=="Perú")%>%  ggplot(aes(x=fecha,y=valor))+geom_line()+
labs(x="",y="% del total de la quema de combustible",title="% Emisiones de CO2 del total de la quema de combustible en el Perú de 1970 a 2015")+theme_classic()
formateddata %>% filter(`Country Name`=="Perú")%>%  ggplot(aes(x=fecha,y=valor))+geom_line()+
labs(x="",y="% del total de la quema de combustible",title="% Emisiones de CO2 del total de la quema de combustible en el Perú de 1970 a 2015")+
theme_light()
formateddata %>% filter(`Country Name`=="Perú")%>%  ggplot(aes(x=fecha,y=valor))+geom_line(color="red")+
labs(x="",y="% del total de la quema de combustible",title="% Emisiones de CO2 del total de la quema de combustible en el Perú de 1970 a 2015")+
theme_light()
formateddata %>% filter(`Country Name`=="Perú")%>%  ggplot(aes(x=fecha,y=valor))+geom_line(color="red")+
labs(x="",y="% del total de la quema de combustible",title="% Emisiones de CO2 del total de la quema de combustible en el Perú de 1970 a 2015")+
theme_light()
ggsave("co2transportemissionperu",dpi = 300)
formateddata %>% filter(`Country Name`=="Perú")%>%  ggplot(aes(x=fecha,y=valor))+geom_line(color="red")+
labs(x="",y="% del total de la quema de combustible",title="% Emisiones de CO2 del total de la quema de combustible en el Perú de 1970 a 2015")+
theme_light()
ggsave("co2transportemissionperu.jpg",dpi = 300)
formateddata %>% filter(`Country Name`=="Perú")%>%  ggplot(aes(x=fecha,y=valor))+geom_line(color="red")+
labs(x="",y="% del total de la quema de combustible",title="% Emisiones de CO2 en el Perú de 1970 a 2015")+
theme_light()
ggsave("co2transportemissionperu.jpg",dpi = 300)
formateddata %>% group_by(fecha) %>% summarise(soles=sum(valor))
is.na(formateddata)
na.omit(formateddata)
na.omit(formateddata)
na.omit(formateddata) %>% group_by(fecha) %>% summarise(soles=sum(valor))
na.omit(formateddata) %>% group_by(fecha) %>% summarise(soles=sum(valor)) %>% ggplot(aes(x=fecha,y=soles))+geom_area()
na.omit(formateddata) %>% group_by(fecha) %>% summarise(soles=sum(valor)) %>% ggplot(aes(x=fecha,y=soles))+geom_line()
na.omit(formateddata) %>% group_by(fecha) %>% summarise(soles=mean(valor)) %>% ggplot(aes(x=fecha,y=soles))+geom_line()
na.omit(formateddata) %>% group_by(fecha) %>% summarise(soles=mean(valor))
na.omit(formateddata) %>% group_by(fecha) %>% summarise(soles=log(valor)) %>% ggplot(aes(x=fecha,y=soles))+geom_line()
na.omit(formateddata) %>% group_by(fecha) %>% summarise(soles=sum(log(valor)) %>% ggplot(aes(x=fecha,y=soles))+geom_line()
na.omit(formateddata) %>% group_by(fecha) %>% summarise(soles=sum(log(valor)) %>% ggplot(aes(x=fecha,y=soles))+geom_line()
na.omit(formateddata) %>% group_by(fecha) %>% summarise(soles=sum(log(valor))) %>% ggplot(aes(x=fecha,y=soles))+geom_line()
na.omit(formateddata) %>% group_by(fecha) %>% summarise(soles=mean(log(valor))) %>% ggplot(aes(x=fecha,y=soles))+geom_line()
na.omit(formateddata) %>% group_by(fecha) %>% summarise(soles=sum(valor)) %>% ggplot(aes(x=fecha,y=soles))+geom_line()
na.omit(formateddata) %>% group_by(fecha) %>% summarise(soles=mean(valor)) %>% ggplot(aes(x=fecha,y=soles))+geom_line()
na.omit(formateddata) %>% filter(fecha>"1970-01-01") %>% group_by(fecha) %>% summarise(soles=mean(valor)) %>% ggplot(aes(x=fecha,y=soles))+geom_line()
na.omit(formateddata) %>% filter(fecha>"1970-01-01") %>% group_by(fecha) %>%
summarise(soles=mean(valor)) %>% ggplot(aes(x=fecha,y=soles))+geom_line()+geom_point()
na.omit(formateddata) %>% filter(fecha>"1970-01-01") %>% group_by(fecha) %>%
summarise(soles=mean(valor)) %>% ggplot(aes(x=fecha,y=soles))+geom_bar()
na.omit(formateddata) %>% filter(fecha>"1970-01-01") %>% group_by(fecha) %>%
summarise(soles=mean(valor)) %>% ggplot(aes(x=fecha,y=soles))+geom_count()
na.omit(formateddata) %>% filter(fecha>"1970-01-01") %>% group_by(fecha) %>%
summarise(soles=mean(valor)) %>% ggplot(aes(x=fecha,y=soles))+geom_area()
na.omit(formateddata) %>% filter(fecha>"1970-01-01") %>% group_by(fecha) %>%
summarise(soles=mean(valor)) %>% ggplot(aes(x=fecha,y=soles))+geom_bin_2d()
na.omit(formateddata) %>% filter(fecha>"1970-01-01") %>% group_by(fecha) %>%
summarise(soles=mean(valor)) %>% ggplot(aes(x=fecha,y=soles))+geom_line
na.omit(formateddata) %>% filter(fecha>"1970-01-01") %>% group_by(fecha) %>%
summarise(soles=mean(valor)) %>% ggplot(aes(x=fecha,y=soles))+geom_line()
na.omit(formateddata) %>% filter(fecha>"1970-01-01") %>% group_by(fecha) %>%
summarise(soles=mean(valor)) %>% ggplot(aes(x=fecha,y=soles))+geom_line(color="blue")
na.omit(formateddata) %>% filter(fecha>"1970-01-01") %>% group_by(fecha) %>%
summarise(soles=mean(valor)) %>% ggplot(aes(x=fecha,y=soles))+geom_line(color="blue",size=2)
na.omit(formateddata) %>% filter(fecha>"1970-01-01") %>% group_by(fecha) %>%
summarise(soles=mean(valor)) %>% ggplot(aes(x=fecha,y=soles))+geom_line(color="blue",size=1.5)
na.omit(formateddata) %>% filter(fecha>"1970-01-01") %>% group_by(fecha) %>%
summarise(soles=mean(valor)) %>% ggplot(aes(x=fecha,y=soles))+geom_line(color="blue",size=1.5)+
labs(x="",y="promedio del % del total de la quema del combustible")
na.omit(formateddata) %>% filter(fecha>"1970-01-01") %>% group_by(fecha) %>%
summarise(soles=mean(valor)) %>% ggplot(aes(x=fecha,y=soles))+geom_line(color="blue",size=1.5)+
labs(x="",y="promedio del % del total de la quema del combustible",title = "% Emisiones de CO2 en el mundo de 1970 a 2015")
na.omit(formateddata) %>% filter(fecha>"1970-01-01") %>% group_by(fecha) %>%
summarise(soles=mean(valor)) %>% ggplot(aes(x=fecha,y=soles))+geom_line(color="blue",size=1.5)+
labs(x="",y="promedio del % del total de la quema del combustible",title = "% Emisiones de CO2 en el mundo de 1970 a 2015")+
theme_light()
na.omit(formateddata) %>% filter(fecha>"1970-01-01") %>% group_by(fecha) %>%
summarise(soles=mean(valor)) %>% ggplot(aes(x=fecha,y=soles))+geom_line(color="blue",size=1.5)+
labs(x="",y="promedio del % del total de la quema del combustible",title = "% Emisiones de CO2 en el mundo de 1970 a 2015",footnote="ha")+
theme_light()
na.omit(formateddata) %>% filter(fecha>"1970-01-01") %>% group_by(fecha) %>%
summarise(soles=mean(valor)) %>% ggplot(aes(x=fecha,y=soles))+geom_line(color="blue",size=1.5)+
labs(x="",y="promedio del % del total de la quema del combustible",title = "% Emisiones de CO2 en el mundo de 1970 a 2015")+
theme_light()+footnote("hola")
na.omit(formateddata) %>% filter(fecha>"1970-01-01") %>% group_by(fecha) %>%
summarise(soles=mean(valor)) %>% ggplot(aes(x=fecha,y=soles))+geom_line(color="blue",size=1.5)+
labs(x="",y="promedio del % del total de la quema del combustible",title = "% Emisiones de CO2 en el mundo de 1970 a 2015",caption = "hola")+
theme_light()
na.omit(formateddata) %>% filter(fecha>"1970-01-01") %>% group_by(fecha) %>%
summarise(soles=mean(valor)) %>% ggplot(aes(x=fecha,y=soles))+geom_line(color="blue",size=1.5)+
labs(x="",y="promedio del % del total de la quema del combustible",title = "% Emisiones de CO2 en el mundo de 1970 a 2015",caption = "Fuente: Elaboración propia - BM")+
theme_light()
formateddata %>% filter(`Country Name`=="Perú")%>%  ggplot(aes(x=fecha,y=valor))+geom_line(color="red")+
labs(x="",y="% del total de la quema de combustible",
title="% Emisiones de CO2 en el Perú de 1970 a 2015",caption = "Fuente: Elaboración propia - Banco Mundial")+
theme_light()
ggsave("co2transportemissionperu.jpg",dpi = 300)
na.omit(formateddata) %>% filter(fecha>"1970-01-01") %>% group_by(fecha) %>%
summarise(soles=mean(valor)) %>% ggplot(aes(x=fecha,y=soles))+geom_line(color="blue",size=1.5)+
labs(x="",y="promedio del % del total de la quema del combustible",
title = "% Emisiones de CO2 en el mundo de 1970 a 2015",caption = "Fuente: Elaboración propia - Banco Mundial")+
theme_light()
ggsave("co2transportemissionworld.jpg",dpi = 300)
cars<-read_xlsx("vehicularpark")
cars<-read_xlsx("vehicularpark.xlsx")
str(cars)
as.numeric(cars$numero)
cars$numero<-as.numeric(cars$numero)
ymd(cars$Periodo, truncated = 2L)
View(cars)
cars$Periodo<-ymd(cars$Periodo, truncated = 2L)
cars
cars %>% ggplot(aes(x=Periodo,y=numero))+geom_line()
cars %>% ggplot(aes(x=Periodo,y=numero/1000000))+geom_line()
cars %>% ggplot(aes(x=Periodo,y=numero/1000000))+geom_line()+
labs(x="",y="millones de vehículos",title = "Parque vehicular estimado en el Perú del 2007 al 2018")
cars %>% ggplot(aes(x=Periodo,y=numero/1000000))+geom_line()+
labs(x="",y="millones de vehículos",
title = "Parque vehicular estimado en el Perú del 2007 al 2018",caption = "Fuente: Elaboración propia - SINIA")
cars %>% ggplot(aes(x=Periodo,y=numero/1000000))+geom_line(color="green")+
labs(x="",y="millones de vehículos",
title = "Parque vehicular estimado en el Perú del 2007 al 2018",caption = "Fuente: Elaboración propia - SINIA")
cars %>% ggplot(aes(x=Periodo,y=numero/1000000))+geom_line(color="green",size=2)+
labs(x="",y="millones de vehículos",
title = "Parque vehicular estimado en el Perú del 2007 al 2018",caption = "Fuente: Elaboración propia - SINIA")
cars %>% ggplot(aes(x=Periodo,y=numero/1000000))+geom_line(color="green",size=2)+
labs(x="",y="millones de vehículos",
title = "Parque vehicular estimado en el Perú del 2007 al 2018",caption = "Fuente: Elaboración propia - SINIA")+theme_light()
cars %>% ggplot(aes(x=Periodo,y=numero/1000000))+geom_line(color="green",size=2)+
labs(x="",y="millones de vehículos",
title = "Parque vehicular estimado en el Perú del 2007 al 2018",caption = "Fuente: Elaboración propia - SINIA")+theme_light()
ggsave("vehicularnumberperu.jpg",dpi = 300)
formateddata %>% filter(fecha>"1970-01-01") %>% filter(`Country Name`=="Perú")%>%  ggplot(aes(x=fecha,y=valor))+geom_line(color="red")+
labs(x="",y="% del total de la quema de combustible",
title="% Emisiones de CO2 en el Perú de 1970 a 2015",caption = "Fuente: Elaboración propia - Banco Mundial")+
theme_light()
formateddata %>% filter(fecha>"1995-01-01") %>% filter(`Country Name`=="Perú")%>%  ggplot(aes(x=fecha,y=valor))+geom_line(color="red")+
labs(x="",y="% del total de la quema de combustible",
title="% Emisiones de CO2 en el Perú de 1970 a 2015",caption = "Fuente: Elaboración propia - Banco Mundial")+
theme_light()
na.omit(formateddata) %>% filter(fecha>"1995-01-01") %>% group_by(fecha) %>%
summarise(soles=mean(valor)) %>% ggplot(aes(x=fecha,y=soles))+geom_line(color="blue",size=1.5)+
labs(x="",y="promedio del % del total de la quema del combustible",
title = "% Emisiones de CO2 en el mundo de 1970 a 2015",caption = "Fuente: Elaboración propia - Banco Mundial")+
theme_light()
formateddata %>% filter(fecha>"1995-01-01") %>% filter(`Country Name`=="Perú")%>%  ggplot(aes(x=fecha,y=valor))+geom_line(color="red")+
labs(x="",y="% del total de la quema de combustible",
title="% Emisiones de CO2 en el Perú de 1970 a 2015",caption = "Fuente: Elaboración propia - Banco Mundial")+
theme_light()
formateddata %>% filter(fecha>"1995-01-01") %>% filter(`Country Name`=="Perú")%>%  ggplot(aes(x=fecha,y=valor))+geom_line(color="red")+
labs(x="",y="% del total de la quema de combustible",
title="% Emisiones de CO2 en el Perú de 1995 a 2015",caption = "Fuente: Elaboración propia - Banco Mundial")+
theme_light()
ggsave("co2transportemissionperu.jpg",dpi = 300)
na.omit(formateddata) %>% filter(fecha>"1995-01-01") %>% group_by(fecha) %>%
summarise(soles=mean(valor)) %>% ggplot(aes(x=fecha,y=soles))+geom_line(color="blue",size=1.5)+
labs(x="",y="promedio del % del total de la quema del combustible",
title = "% Emisiones de CO2 en el mundo de 1995 a 2015",caption = "Fuente: Elaboración propia - Banco Mundial")+
theme_light()
ggsave("co2transportemissionworld.jpg",dpi = 300)
